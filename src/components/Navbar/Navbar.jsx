import React, { useRef } from "react";
import s from "./Nav.module.css";
import { NavLink } from "react-router-dom";
import NavFriends from "./NavFriends";
import { useSelector } from "react-redux";
import profileIcon from "../../img/navbarIcons/user.svg";

const Navbar = ({ theme }) => {
  const activeDialog = useSelector((state) => state.dialogSlice.activeDialogId);

  const links = useRef([
    {
      name: "Profile",
      icon: (
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip30_90161)">
            <path
              id="Vector"
              d="M20 21C20 18.2385 16.418 16 12 16C7.58203 16 4 18.2385 4 21M7 8C7 5.23877 9.23828 3 12 3C14.7617 3 17 5.23877 17 8C17 10.7612 14.7617 13 12 13C9.23828 13 7 10.7612 7 8Z"
              stroke="#85889E"
              stroke-opacity="1.000000"
              stroke-width="2.000000"
              stroke-linejoin="round"
              stroke-linecap="round"
            />
          </g>
        </svg>
      ),
      to: "./profile",
    },
    {
      name: "Messages",
      icon: (
        <svg
          viewBox="0 0 64 64"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <style type="text/css"></style>
          <g>
            <g id="Icon-Comment" transform="translate(328.000000, 480.000000)">
              <path d="M-310-425.6h-2.5l1.5-2.1c1.1-1.6,1.9-3.5,2.3-6c-7.1-3.2-10.9-9.2-10.9-17.1     c0-12.1,9.1-19.6,23.8-19.6c14.7,0,23.8,7.5,23.8,19.6c0,12.2-8.9,19.6-23.8,19.6c-0.3,0-0.7,0-1,0     C-299.2-428.6-303.2-425.6-310-425.6L-310-425.6z M-296-467.8c-13.3,0-21.2,6.3-21.2,17c0,9.1,5.6,13.2,10.2,15.1l0.9,0.4l-0.1,1     c-0.3,2.3-0.8,4.3-1.6,6c4.8-0.6,7.6-3,9.1-5l0.4-0.5l0.9,0c0.4,0,0.9,0,1.3,0c19.1,0,21.2-11.9,21.2-17     C-274.8-461.4-282.7-467.8-296-467.8L-296-467.8z" />
            </g>
          </g>
        </svg>
      ),
      to: "./dialogs",
    },
    {
      name: "News",
      icon: (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300">
          <g fill="currentColor">
            <path d="M57.1 1.9c-6.5 2.3-9.6 4.5-13.8 10-4.4 5.7-5.3 9.7-5.3 23.2v11.7l-8.7.4c-13.2.7-21 5.3-26 15.6L.5 68.5l-.3 96.9C0 229 .3 264.2 1 267.9c2.2 12 10.2 22.5 21 27.9l5.5 2.7h244l5.7-2.7c7.6-3.5 14.3-9.9 18.1-17.3l3.2-6 .3-125.3.2-125.3-2.1-4.9c-2.4-5.5-8.8-12-14.6-14.7C278.7.6 271.9.5 170.5.3 67.5.1 62.3.1 57.1 1.9zm221 20l2.9 2.9V145c0 106.1-.2 120.5-1.5 123.8-2.1 4.9-5.2 8.1-10 10.3-3.8 1.8-9.3 1.9-119.5 1.9-110.3 0-115.7-.1-119.5-1.9-4.7-2.2-8.9-6.4-10.4-10.4-.8-1.9-1.1-33.8-1.1-100.1V71.3l2.4-2.6c2.6-2.8 7.2-4.1 12.7-3.5l3.4.3.5 95.7.5 95.7 2.3 2.3c3.3 3.4 9.7 3.1 12.8-.5l2.4-2.8V141.4c0-122.6-.2-118.5 4.7-121.3 1.2-.7 37.8-1 108.1-1.1h106.4l2.9 2.9z" />
            <path d="M78.3 40.4l-2.8 2.4-.3 36.1-.3 36 3 3.3 2.9 3.3 33.4.3c18.3.2 34.8 0 36.7-.3 1.8-.4 4.4-1.7 5.7-3l2.4-2.4V80.5c0-36.4-.2-38.4-3.9-41.2-1.2-.9-10.9-1.2-37.8-1.3H81.1l-2.8 2.4zm62.5 39.3l.2 23.3H94V56l23.3.2 23.2.3.3 23.2zm39.4-22.1c-2.4 1.7-2.9 4.3-1 6.2 1.7 1.7 79.9 1.7 81.6 0 1.9-1.9 1.4-4.5-1-6.2-1.9-1.4-7.4-1.6-39.8-1.6s-37.9.2-39.8 1.6zm0 28c-2.8 1.9-2.8 4.9 0 6.8 3.4 2.4 76.2 2.4 79.6 0 1.2-.8 2.2-2.4 2.2-3.4s-1-2.6-2.2-3.4c-1.9-1.4-7.4-1.6-39.8-1.6s-37.9.2-39.8 1.6zm.7 27.8c-3.2 1.6-3.6 5-.7 7 2 1.4 7 1.6 39.8 1.6s37.8-.2 39.8-1.6c2.9-2 2.5-5.4-.8-7.1-3.5-1.7-74.6-1.7-78.1.1zM76.2 142.2c-1.9 1.9-1.4 4.5 1 6.2 2 1.4 12.3 1.6 91.3 1.6s89.3-.2 91.3-1.6c2.4-1.7 2.9-4.3 1-6.2-1.7-1.7-182.9-1.7-184.6 0zm-.4 29.4c-1.1 2.3-1 2.9 1.1 4.5 2.2 1.8 5.7 1.9 91.5 1.9 79.1 0 89.4-.2 91.4-1.6 2.4-1.7 2.9-4.3 1-6.2-.9-.9-22.8-1.2-92.5-1.2H77l-1.2 2.6zm0 27.9c-.9 2.1-.8 2.8.7 4.5 1.8 1.9 3.1 2 40.6 2 33.9 0 39-.2 40.3-1.6 1.9-1.8 2.1-4.5.4-6.2-.9-.9-11.4-1.2-41-1.2H77l-1.2 2.5zm103.4-1.3c-1.7 1.7-1.5 4.4.4 6.2 1.3 1.4 6.4 1.6 40.4 1.6s39.1-.2 40.4-1.6c1.9-1.8 2.1-4.5.4-6.2-1.7-1.7-79.9-1.7-81.6 0zM75.8 227.5c-.9 2.1-.8 2.8.7 4.5 1.8 1.9 3.1 2 40.6 2 33.9 0 39-.2 40.3-1.6 1.9-1.8 2.1-4.5.4-6.2-.9-.9-11.4-1.2-41-1.2H77l-1.2 2.5zm103.4-1.3c-1.7 1.7-1.5 4.4.4 6.2 1.3 1.4 6.4 1.6 40.4 1.6s39.1-.2 40.4-1.6c1.9-1.8 2.1-4.5.4-6.2-1.7-1.7-79.9-1.7-81.6 0zM76 254.9c-1.4 2.7-1.3 3.7.6 5.5 1.3 1.4 6.4 1.6 40 1.6 24.7 0 39.2-.4 40.5-1 2.1-1.2 2.5-5 .7-6.8-.9-.9-11.4-1.2-41-1.2-38.3 0-39.8.1-40.8 1.9zm103.2-.7c-1.7 1.7-1.5 4.4.4 6.2 1.3 1.4 6.4 1.6 40.4 1.6s39.1-.2 40.4-1.6c1.9-1.8 2.1-4.5.4-6.2-1.7-1.7-79.9-1.7-81.6 0z" />
          </g>
        </svg>
      ),
      to: "./news",
    },
    {
      name: "Music",
      icon: (
        <svg
          viewBox="0 0 16 16"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M9 13c0 1.105-1.12 2-2.5 2S4 14.105 4 13s1.12-2 2.5-2 2.5.895 2.5 2z" />
          <path fill-rule="evenodd" d="M9 3v10H8V3h1z" />
          <path d="M8 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 13 2.22V4L8 5V2.82z" />
        </svg>
      ),
      to: "./music",
    },
    {
      name: "Settings",
      icon: (
        <svg
          enable-background="new 0 0 32 32"
          viewBox="0 0 32 32"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M27.526,18.036L27,17.732c-0.626-0.361-1-1.009-1-1.732s0.374-1.371,1-1.732l0.526-0.304  c1.436-0.83,1.927-2.662,1.098-4.098l-1-1.732c-0.827-1.433-2.666-1.925-4.098-1.098L23,7.339c-0.626,0.362-1.375,0.362-2,0  c-0.626-0.362-1-1.009-1-1.732V5c0-1.654-1.346-3-3-3h-2c-1.654,0-3,1.346-3,3v0.608c0,0.723-0.374,1.37-1,1.732  c-0.626,0.361-1.374,0.362-2,0L8.474,7.036C7.042,6.209,5.203,6.701,4.375,8.134l-1,1.732c-0.829,1.436-0.338,3.269,1.098,4.098  L5,14.268C5.626,14.629,6,15.277,6,16s-0.374,1.371-1,1.732l-0.526,0.304c-1.436,0.829-1.927,2.662-1.098,4.098l1,1.732  c0.828,1.433,2.667,1.925,4.098,1.098L9,24.661c0.626-0.363,1.374-0.361,2,0c0.626,0.362,1,1.009,1,1.732V27c0,1.654,1.346,3,3,3h2  c1.654,0,3-1.346,3-3v-0.608c0-0.723,0.374-1.37,1-1.732c0.625-0.361,1.374-0.362,2,0l0.526,0.304  c1.432,0.826,3.271,0.334,4.098-1.098l1-1.732C29.453,20.698,28.962,18.865,27.526,18.036z M16,21c-2.757,0-5-2.243-5-5s2.243-5,5-5  s5,2.243,5,5S18.757,21,16,21z"
            id="XMLID_273_"
          />
        </svg>
      ),
      to: "./settings",
    },
  ]);

  return (
    <nav
      className={`${s.nav} ${activeDialog && s.hide} ${
        theme === "dark" ? null : s.light
      }`}
    >
      {links.current.map((link, index) => (
        <NavLink
          key={index}
          to={link.to}
          className={`${s.item} ${(navData) => navData.isActive && s.active}`}
        >
          {link.name}
          <span className={s.icon}>{link.icon}</span>
        </NavLink>
      ))}

      <NavFriends />
    </nav>
  );
};

export default Navbar;
